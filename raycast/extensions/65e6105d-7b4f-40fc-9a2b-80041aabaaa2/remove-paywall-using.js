"use strict";var m=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var R=Object.getOwnPropertyNames;var U=Object.prototype.hasOwnProperty;var P=(e,i)=>{for(var t in i)m(e,t,{get:i[t],enumerable:!0})},b=(e,i,t,n)=>{if(i&&typeof i=="object"||typeof i=="function")for(let o of R(i))!U.call(e,o)&&o!==t&&m(e,o,{get:()=>i[o],enumerable:!(n=x(i,o))||n.enumerable});return e};var L=e=>b(m({},"__esModule",{value:!0}),e);var A={};P(A,{default:()=>E});module.exports=L(A);var r=require("@raycast/api"),c=require("react");var v={$schema:"https://www.raycast.com/schemas/extension.json",name:"remove-paywall",title:"Remove Paywall",description:"Remove the paywall from the specified URL.",icon:"command-icon.png",author:"tegola",contributors:["Whitespace"],categories:["Web"],license:"MIT",commands:[{name:"remove-paywall",title:"Remove Paywall",description:"Remove the paywall from the specified URL.",mode:"no-view",arguments:[{name:"url",type:"text",placeholder:"URL (or selected text)"}]},{name:"remove-paywall-using",title:"Remove Paywall Using...",description:"Remove the paywall with the specified URL using an alternative service.",mode:"view"}],preferences:[{name:"service",title:"Service",description:"The service to use to remove the paywall.",type:"dropdown",required:!0,data:[{title:"12ft.io",value:"https://12ft.io"},{title:"Archive (archive.is)",value:"https://archive.is"},{title:"RemovePaywall (removepaywall.com)",value:"https://www.removepaywall.com"}]}],dependencies:{"@raycast/api":"^1.52.1"},devDependencies:{"@raycast/eslint-config":"1.0.5","@types/node":"18.8.3","@types/react":"18.0.9",eslint:"^7.32.0",prettier:"^2.5.1",typescript:"^4.4.3"},scripts:{build:"ray build -e dist",dev:"ray develop","fix-lint":"ray lint --fix",lint:"ray lint",publish:"npx @raycast/api@latest publish"}};var s=require("@raycast/api");function d(e){return/^https?:\/\//.test(e)}async function f(e=""){let i="",t="";e=e?.trim()??"";try{i=(await(0,s.getSelectedText)()).trim()}catch{}try{t=await s.Clipboard.readText(),t=t?t.trim():""}catch{}return[i,e,t].find(n=>!!n)??""}var a=require("react/jsx-runtime"),T=v.preferences.find(e=>e.name==="service"),F=T?.data??[],E=e=>{let{service:i}=(0,r.getPreferenceValues)(),[t,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(),[u,h]=(0,c.useState)(i);async function y(){let l=await f(e.fallbackText);d(l)&&n(l)}t||y();function w(){t?d(t)?p(void 0):p("Invalid URL."):p("No URL provided.")}function g(){(0,r.open)(`${u}/${t}`)}return(0,a.jsxs)(r.Form,{actions:(0,a.jsx)(r.ActionPanel,{children:(0,a.jsx)(r.Action.SubmitForm,{title:"Remove Paywall",onSubmit:g})}),children:[(0,a.jsx)(r.Form.TextField,{id:"url",title:"URL",placeholder:"https://example.com",value:t,error:o,onChange:n,onBlur:w}),(0,a.jsx)(r.Form.Dropdown,{id:"service",title:"Service",value:u,onChange:h,children:F.map(l=>(0,a.jsx)(r.Form.Dropdown.Item,{value:l.value,title:l.title},l.value))})]})};
