"use strict";var s=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var x=(t,e)=>{for(var r in e)s(t,r,{get:e[r],enumerable:!0})},f=(t,e,r,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of u(e))!d.call(t,i)&&i!==r&&s(t,i,{get:()=>e[i],enumerable:!(a=g(e,i))||a.enumerable});return t};var p=t=>f(s({},"__esModule",{value:!0}),t);var h={};x(h,{default:()=>w});module.exports=p(h);var n=require("@raycast/api");var o=require("@raycast/api");function c(t){return/^https?:\/\//.test(t)}async function l(t=""){let e="",r="";t=t?.trim()??"";try{e=(await(0,o.getSelectedText)()).trim()}catch{}try{r=await o.Clipboard.readText(),r=r?r.trim():""}catch{}return[e,t,r].find(a=>!!a)??""}var w=async t=>{let{service:e}=await(0,n.getPreferenceValues)();try{let r=t.arguments.url?.trim()??"",a=await l(t.fallbackText),i=[r,a].find(m=>!!m);if(!i)throw new Error("No URL provided.");if(!c(i))throw new Error(`Invalid URL: "${i}"`);(0,n.open)(`${e}/${i}`)}catch(r){await(0,n.showToast)({style:n.Toast.Style.Failure,title:"Cannot remove paywall",message:r.message})}};
