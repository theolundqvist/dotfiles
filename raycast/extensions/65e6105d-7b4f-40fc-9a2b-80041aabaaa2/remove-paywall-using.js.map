{
  "version": 3,
  "sources": ["../src/remove-paywall-using.tsx", "../package.json", "../src/utils.ts"],
  "sourcesContent": ["import { Action, ActionPanel, Form, LaunchProps, getPreferenceValues, open } from \"@raycast/api\";\nimport { useState } from \"react\";\nimport packageJson from \"../package.json\";\nimport { getExistingText, isUrl } from \"./utils\";\n\nconst servicePreference = packageJson.preferences.find((pref) => pref.name === \"service\");\nconst options = servicePreference?.data ?? [];\n\nexport default (props: LaunchProps) => {\n  const { service: defaultService } = getPreferenceValues<Preferences>();\n\n  const [url, setUrl] = useState<string>(\"\");\n  const [urlError, setUrlError] = useState<string | undefined>();\n  const [service, setService] = useState<string>(defaultService);\n\n  async function setUrlFromExistingText() {\n    const text = await getExistingText(props.fallbackText);\n\n    if (!isUrl(text)) {\n      return;\n    }\n\n    setUrl(text);\n  }\n\n  if (!url) {\n    setUrlFromExistingText();\n  }\n\n  function handleUrlBlur() {\n    if (!url) {\n      setUrlError(\"No URL provided.\");\n    } else if (!isUrl(url)) {\n      setUrlError(\"Invalid URL.\");\n    } else {\n      setUrlError(undefined);\n    }\n  }\n\n  function handleSubmit() {\n    open(`${service}/${url}`);\n  }\n\n  return (\n    <Form\n      actions={\n        <ActionPanel>\n          <Action.SubmitForm title=\"Remove Paywall\" onSubmit={handleSubmit} />\n        </ActionPanel>\n      }\n    >\n      <Form.TextField\n        id=\"url\"\n        title=\"URL\"\n        placeholder=\"https://example.com\"\n        value={url}\n        error={urlError}\n        onChange={setUrl}\n        onBlur={handleUrlBlur}\n      />\n      <Form.Dropdown id=\"service\" title=\"Service\" value={service} onChange={setService}>\n        {options.map((option) => (\n          <Form.Dropdown.Item key={option.value} value={option.value} title={option.title} />\n        ))}\n      </Form.Dropdown>\n    </Form>\n  );\n};\n", "{\n  \"$schema\": \"https://www.raycast.com/schemas/extension.json\",\n  \"name\": \"remove-paywall\",\n  \"title\": \"Remove Paywall\",\n  \"description\": \"Remove the paywall from the specified URL.\",\n  \"icon\": \"command-icon.png\",\n  \"author\": \"tegola\",\n  \"contributors\": [\n    \"Whitespace\"\n  ],\n  \"categories\": [\n    \"Web\"\n  ],\n  \"license\": \"MIT\",\n  \"commands\": [\n    {\n      \"name\": \"remove-paywall\",\n      \"title\": \"Remove Paywall\",\n      \"description\": \"Remove the paywall from the specified URL.\",\n      \"mode\": \"no-view\",\n      \"arguments\": [\n        {\n          \"name\": \"url\",\n          \"type\": \"text\",\n          \"placeholder\": \"URL (or selected text)\"\n        }\n      ]\n    },\n    {\n      \"name\": \"remove-paywall-using\",\n      \"title\": \"Remove Paywall Using...\",\n      \"description\": \"Remove the paywall with the specified URL using an alternative service.\",\n      \"mode\": \"view\"\n    }\n  ],\n  \"preferences\": [\n    {\n      \"name\": \"service\",\n      \"title\": \"Service\",\n      \"description\": \"The service to use to remove the paywall.\",\n      \"type\": \"dropdown\",\n      \"required\": true,\n      \"data\": [\n        {\n          \"title\": \"12ft.io\",\n          \"value\": \"https://12ft.io\"\n        },\n        {\n          \"title\": \"Archive (archive.is)\",\n          \"value\": \"https://archive.is\"\n        },\n        {\n          \"title\": \"RemovePaywall (removepaywall.com)\",\n          \"value\": \"https://www.removepaywall.com\"\n        }\n      ]\n    }\n  ],\n  \"dependencies\": {\n    \"@raycast/api\": \"^1.52.1\"\n  },\n  \"devDependencies\": {\n    \"@raycast/eslint-config\": \"1.0.5\",\n    \"@types/node\": \"18.8.3\",\n    \"@types/react\": \"18.0.9\",\n    \"eslint\": \"^7.32.0\",\n    \"prettier\": \"^2.5.1\",\n    \"typescript\": \"^4.4.3\"\n  },\n  \"scripts\": {\n    \"build\": \"ray build -e dist\",\n    \"dev\": \"ray develop\",\n    \"fix-lint\": \"ray lint --fix\",\n    \"lint\": \"ray lint\",\n    \"publish\": \"npx @raycast/api@latest publish\"\n  }\n}\n", "import { Clipboard, getSelectedText } from \"@raycast/api\";\n\nexport function isUrl(text: string): boolean {\n  return /^https?:\\/\\//.test(text);\n}\n\nexport async function getExistingText(fallbackText = \"\"): Promise<string> {\n  let selectedText = \"\";\n  let clipboardText: string | undefined = \"\";\n  fallbackText = fallbackText?.trim() ?? \"\";\n\n  // Get the selected text (if any)\n  try {\n    selectedText = (await getSelectedText()).trim();\n  } catch {\n    // Ignore errors\n  }\n\n  // Get the clipboard text (if any)\n  try {\n    clipboardText = await Clipboard.readText();\n    clipboardText = clipboardText ? clipboardText.trim() : \"\";\n  } catch {\n    // Ignore errors\n  }\n\n  return [selectedText, fallbackText, clipboardText].find((v) => !!v) ?? \"\";\n}\n"],
  "mappings": "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",
  "names": ["remove_paywall_using_exports", "__export", "remove_paywall_using_default", "__toCommonJS", "import_api", "import_react", "package_default", "import_api", "isUrl", "text", "getExistingText", "fallbackText", "selectedText", "clipboardText", "v", "import_jsx_runtime", "servicePreference", "package_default", "pref", "options", "remove_paywall_using_default", "props", "defaultService", "url", "setUrl", "urlError", "setUrlError", "service", "setService", "setUrlFromExistingText", "text", "getExistingText", "isUrl", "handleUrlBlur", "handleSubmit", "option"]
}
